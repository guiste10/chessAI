rand_integers_64 = (
    5414349316988720010, 2796964730480943609, 8351012871176645371, 6281175824861013252, 6856953102591159500, 4866075959570174944, 1369280191796634297, 1303965650433081738, 2763482681146888585,
    1857873036059180320, 2663919486909670007, 7598089834712136322, 735259219171296812, 2015590761340083793, 1420696586588802829, 3839833381816693397, 7348364549857026100, 172578233934077467,
    3262627908432869295, 990993226915714960, 3557208471661523545, 754943043774873674, 4323304881687176229, 7533891198703414075, 1677662073463522642, 7455457437955775360, 903593131289348782,
    4530087175095576942, 7829435992989695882, 8540712848768633256, 6104854815012467895, 5325021644197509205, 7836431053422881075, 4931018942396400705, 5437140938148398165, 2985122967562647273,
    1463021533489659293, 4038482762547661208, 2577158334742327548, 1057469177129709107, 2310658455281410872, 765485992444271815, 2488209049613759350, 5739155043036053002, 2088196736145137736,
    1635314087375755480, 4245121127156380571, 8408219986528906333, 4383294111094256200, 5883650209920187270, 8541617111247450761, 675887372352963927, 4770590408318528688, 7539273214216888923,
    5164196033720178150, 7675602900642775322, 6754467459520600242, 521181396650862351, 4638152323709394042, 6842522479998524837, 3129505337000185124, 1854357606339944710, 5440510840870370861,
    5235060766924202443, 6860804471819360414, 2401004103628345409, 1073452517152650577, 7605451434733448839, 176806606780842898, 8546515595277215838, 7182823498262241928, 2349079086443821793,
    4556689618827024893, 2044809112185505459, 7175266693182166502, 9168878656336062731, 5414936694659970953, 301907570405398393, 1089926763968812456, 8328419111483420561, 8351379932723334359,
    361275819780200909, 8461778772173157532, 6626003364718880151, 4838504789531388352, 5465873577945961001, 2778864802156110224, 6049049628011844123, 5399119030774453168, 5802852486797239168,
    1788635769847655449, 1762912394921763914, 2681022067359129281, 1584783510010140645, 8370622219159792484, 6944299476155205215, 8186006526784713393, 5421698792488958952, 8513960123767789853,
    4309744612696231410, 6867793480521715856, 416765277904139289, 7133548885043849334, 1558546034921679367, 6169993251912064604, 8829477342306335008, 2049418268240792152, 2429091875834776281,
    4966820887093809855, 341007818464208384, 5914647216783426758, 3915745809076592062, 8262598019372032608, 8572381041006972895, 4266596041655546027, 2051338750605497339, 1813349187996088243,
    3345744892508239275, 5397600427203442585, 1571193467175506484, 1200318843174036220, 3601463022303980534, 916947770660786048, 8222370982863150425, 2076188582740407796, 305927104717234030,
    140392396650912353, 342610113453570276, 8450518712503712501, 4795015081515555022, 5245372504524481385, 2940146883174624732, 1366386686904278607, 1491798028699482103, 6908296860046084076,
    798316484841859953, 8094608719907875704, 4726428848124737438, 7359413355027014939, 226636580772248214, 1584185126258590940, 6292930968172850314, 5620862178963044459, 8547411510252215670,
    6781056900574330817, 6130006001330157735, 5122180846590127895, 7155067770152643413, 7834509101155830708, 183756554570647337, 5327306020651720839, 2393868250085677169, 5774218605556735646,
    1525997970382808329, 2305555657740998941, 4229754166560921403, 763688565798083521, 9001747738539209326, 7894697872295478879, 4950506024699800419, 1731067592428697179, 1349379929614111289,
    7334757480499771818, 7884377775490946890, 7652240687200806557, 6580863992856125741, 3639623766042178332, 1318268740245026414, 3740858440336042649, 7417912200114186053, 1003049860559279472,
    6375304966148391437, 1166819430028048410, 3468864321995289243, 8484280071553785214, 8577913770520371658, 1594921095120491129, 2937676663967228529, 7546588161502657489, 7070430425716927853,
    8477739604624224660, 8681698438336315806, 5163097977019255638, 8241254530168666178, 6053732789212581407, 4638680568524776921, 1188200091055963942, 8962509098792149075, 8796377569007979462,
    6165266114538210087, 2672608538934155933, 5206520767900801173, 4249406551064017124, 262876654128797546, 8333484009778179709, 4382650219649905872, 6841738600224866199, 1894932658738523886,
    3934998401897301551, 5066001001872358928, 2540671836950107491, 150997576703892295, 8074771141610441884, 7054139238009524491, 1759678568353045116, 5541606081756141563, 2837219512107789919,
    1099537565167889526, 3903368476628905188, 4948489621703604264, 1809813640353643335, 4363837796810898880, 100592495571547298, 66857565975707316, 6892181501065575789, 5510380943079168886,
    7838981939916230658, 3776717260464397819, 2396338251391381678, 4218528381262693631, 1168480599525938249, 2067393928833093316, 3869792107153404682, 9185620152541445425, 528979711553567068,
    1011491419440538250, 1542490834701498582, 8891963633313298036, 6668309397595897005, 7812842435553634080, 1640430663659078254, 5978602053064525072, 3631147037730208963, 4924849841763166736,
    8660161565124880487, 6338926316014129525, 877390449796522496, 1625495946825163331, 1126313122559332285, 5570317592757788805, 1139556330694044879, 6111339781715434273, 8968918553934988353,
    9205288581609823230, 6021041555173084624, 8352049201915002084, 2921396363323790789, 6301137918302570398, 3159026756067694349, 9195185583545438902, 6728141741811952280, 1126967710685211923,
    5802634585936975908, 354674449105396796, 7024307161279393981, 2616740294624776772, 8202961835437238342, 8544379747193263852, 1606750235210794940, 4106301313450331077, 6107918847769639098,
    7878232039175445688, 921957155413717423, 2625862349920266111, 6778727317425020715, 8774561916211937691, 571336090335102333, 4441089359959188698, 948044420087384813, 8205658675971737528,
    6974303605831656787, 2954434612258895745, 2782451585099911902, 8088937627573511837, 3582766055957336238, 1053697341412381937, 1405777290447596728, 8685346469718731607, 8041238792849268719,
    6656281674934844205, 3634049757396155841, 5965146703071149017, 909026319357945748, 4934745875558177377, 8781293486771981210, 252336751458336524, 8316799571247061278, 3611546777187095815,
    8060903187464380367, 3694077015426523895, 1773947652085664521, 2145617294501530884, 858628687760903285, 2234837433098468086, 5192109141432988197, 7544639555832813285, 4458609982787995115,
    230161013225269076, 96703563285921877, 2458971827305373195, 5407807032059301023, 6821526597509848080, 2484548521026801063, 685509296764418410, 8253752463221214795, 5292378217496494115,
    3842550910775176648, 1788385765118380583, 2450977964890264764, 605289829542032938, 4954124410276307553, 5236418433377774338, 592196526975676154, 2384982043214958243, 8271683529997316215,
    6474745518944240023, 2869562280300804007, 3782749395619039010, 3875763309086285548, 6045634048919710418, 5785821602572065571, 7604784888624388758, 3644590919936602159, 6834614274773906144,
    395476892556501611, 6985277703457264441, 2347790790936616864, 2071786484764688480, 1964235223630002064, 719545325875249871, 7572885802061866152, 1673112637713258340, 2323766795409627341,
    2252138509606836717, 4863252018511486489, 6354130529681153351, 6436137130673011377, 6729079056670491375, 538739301409892387, 6679289307644913010, 3730816888896411743, 6856803932110972053,
    3726448993274169327, 6420790710797150992, 8784570445638840824, 5635560771505886473, 7593763258118137996, 5685742353276516281, 3243723766390236806, 1860065748696777755, 5713509618779554377,
    2435179170000169005, 821444532336137160, 6675628072005105266, 8751528438966335287, 4716477060666456848, 7991964165750057587, 7461202907622641009, 3805182440325945303, 5655961752499584033,
    704210997293914652, 8831577724992372333, 212806114457223669, 1025681028140913414, 5283873554601743774, 663298643179676068, 2178899519603834335, 3742699962014721873, 8724900248347174873,
    8512508338985903979, 2168268751518062636, 1309901908112155726, 4203804597609585173, 8421856108861429751, 600742507725360474, 6110948395834712781, 680467720200853941, 8459072738146783903,
    954284114412299369, 8876847459705100878, 8168252025031738979, 580211516817723585, 8536430529533290471, 3397380161162898163, 4494165669504411127, 6136794447051106660, 7567798837810885067,
    5562450338053902131, 1406363222178847597, 4702027517129186330, 3448672338550000247, 4268564719691267409, 4220235442738803536, 7006488182580380176, 1586899857365889917, 7061932449225096663,
    6645705058193200500, 1658681452589848106, 4950391724340726052, 1372344304085183255, 3146402701623055311, 1034429178095436625, 4957769972478850934, 1563697420660762671, 7269847234209670216,
    7926575942599295933, 2017331771029562064, 5066388494730526034, 8154802312736554716, 5577069727162235664, 1897964166452707391, 5894362270383335002, 6949170671752486991, 1651288047526666003,
    6422684438827205214, 5895707036829132342, 2665131115238524964, 5621973507006350199, 2647710328310888526, 8987295773915832692, 5705734913375615221, 4038016148090064271, 3851784298571944331,
    604127197531899149, 4715760227066561400, 6236416464718996911, 3271048799793175610, 271474063545094624, 2392454106955787404, 721725241734176279, 1120861249815684998, 5719440342897064276,
    6383007503332167760, 5166892384850626021, 7370966018340404836, 7460803074984212602, 6380599484222546634, 4972221111546241287, 2721062795814549482, 5051063911047833608, 8551683442848512382,
    153708419666346804, 8364167754843113353, 7838970641654093697, 5231699154757252207, 1923448617107259721, 1566016751278805228, 5974137933052700928, 3091144206604431359, 519557523464844445,
    6379063541754489050, 3020674134417942287, 6975098218863274414, 7564395846334462890, 3594734327423316865, 5598861416021388148, 1531363413957081420, 4312342013408155901, 6853490577222633836,
    5576942500204299809, 7781794359705010801, 7963080820340234916, 2061215116374312021, 3066742018217017366, 9142811923905786171, 4996452629243976397, 3625502223679851101, 2077588710540451295,
    5219313745360509281, 8605615587452179266, 3210410722950109217, 3512926014018639073, 4234509898615180727, 2586271537601395320, 4333600234370219976, 7193741262137515876, 7315353012177471804,
    1444927869581230290, 1164993304427874026, 8274412525417185341, 5991652371290497424, 1220828095006202706, 7863089433714204307, 6730791287510510765, 6744865847530627689, 2063827964297215260,
    4900847369592518697, 5725329362650991213, 5145158680305301964, 3531279227371805629, 4531526237161489743, 4621147811513820923, 7653675174462095213, 2130338610700919737, 7227575319932196241,
    3206740967310888799, 3796277436852315617, 8468509277178081856, 3292663272052448616, 2111942410976313929, 6062306235155286410, 2185523668582542796, 1038792379314547096, 6998164448637108530,
    5713361672501267905, 2863443116958098147, 2368185747964504321, 5227599281500962528, 3402555971818073431, 6599922832320039262, 8564898884139499044, 6913308682126105141, 2514717201026256582,
    194799193261243975, 917435100896971139, 7519212948519735186, 2103373821085771448, 5174628903651523375, 6521095313203071426, 8591332967505629211, 6184891544063711614, 1862313046215098084,
    7907082924605053136, 1521442827624861344, 4683889401253212887, 1360874109324766291, 7793991441283763500, 5474451187150964084, 4950625294258256063, 4430455760972509935, 6575980247356643323,
    4020759509475786482, 4067611435824712218, 5795853439334334923, 5575553502052726976, 587764778679688804, 6951488922887007501, 5659868329235755961, 455305807266697160, 8954070640593860626,
    5152404325493415588, 8092716564192760085, 8905779165848220345, 1259245874177560330, 4844567191895116097, 3897915804943925218, 8760799388886662107, 4850599767676063894, 1339758556330899430,
    7853082345984283456, 1584747155892823024, 5649307290692348580, 5392074220606993508, 5706529626912344966, 3422828679434410173, 7362417540802305766, 463109635600978159, 80286345029880097,
    300453484230323545, 3045988509361304678, 1324530309120598291, 837714790432200005, 3122864537266422565, 2673414032350826564, 521705874020703867, 6801667340715767293, 7046519441788783070,
    2395268575996896836, 8473350697389623667, 2183723897859222658, 1925824411743651722, 3919941554670762812, 5147981163449787205, 4269772913208390493, 4148811980771096418, 7675543931414714468,
    7522954566710063237, 8347574356423468974, 8353259147628955785, 3197552920980379500, 4551616735645763038, 2382194554232289558, 4548674119822849336, 4924858326473007716, 5278396528106602496,
    5838488863476269027, 8324577253166002153, 865505212195939064, 629226832735161337, 6526463861437236750, 935908782678329068, 1787383212727823172, 3641816256490716098, 3932763879639888794,
    5319651314633308257, 9189497524838365886, 3544449842642913315, 4885366024570382208, 7246225976372072663, 9152425716282702232, 3183537254964264037, 903023295418596006, 223398459723478729,
    8572379353839104021, 5328697582176372985, 8960196221391615197, 2738969175048923116, 3723107291221258098, 2405844153353808798, 4225665625678445318, 634810380359538577, 5412083437234985439,
    238553309807901696, 3987944406033797522, 8651418731896682402, 1794104975039724409, 2070860895774045138, 6717315144626379632, 7391572713891646379, 8734840763681540307, 2568355724522441732,
    3505253691996054341, 8643321697176647712, 3891591758916762846, 2246288175995387925, 1889092508676628698, 6915532718391212357, 6686270121149522113, 6335685035647652840, 6219158674504178065,
    596271512089194046, 4091031518939378404, 2912083328355471380, 8095618246480509575, 5114355641326512657, 7476476200812570831, 8954378895164216261, 6545370912426390966, 1563857140595275431,
    827419873706480604, 103064164043713019, 5165365656723487733, 7320968337386454279, 916475492030291864, 5051708998111219361, 5724765888807609389, 6640243938239394057, 2976070247326465858,
    7417075949959256847, 248316659851128803, 7026078008979143801, 4874317330277932004, 5059934627544913334, 7320322831022754412, 9123094117483665137, 7682215827624177493, 8836423273749664705,
    2147630453560981437, 3519401184462928786, 8022857933897899381, 5448701717876997520, 8618731847640853919, 1023926193091816924, 791183227740970021, 8985964774496101742, 868626790375334150,
    7088188187519639329, 1598387662816598873, 1426813425787655928, 1525583390500130268, 8743117110334311640, 3788804881779238162, 6664400954750675227, 8594540814824420611, 6962894952588762917,
    6283001786322245303, 637005381562365569, 6434423889776790753, 5801699875341895656, 2346363330474869177, 6547847685666056018, 8706759534523427342, 3524590281396976303, 2984260206069789178,
    7933268881189086371, 5171451135602422693, 7258726141587661706, 637562120241546465, 4521531869902567398, 2596978581141100941, 8596960105041205346, 5638589783307815682, 2432289567849571049,
    2711408449718488949, 8864990136644029467, 4066796242939200947, 2945082484957499708, 5701359704020635220, 9036734900073363327, 5851356862567262546, 3783782119076278088, 3599652496419634315,
    1468415357872977366, 6079428862791251685, 5438537049717173542, 2788219501912356910, 31676634250591259, 4712516216129510970, 7674624019084666173, 8520057181330408513, 5094663733124724482,
    5884077598871772695, 1554949385747467856, 4493278039215440633, 1684422012769125003, 5069207003687830085, 9184436911694623723, 4658713541099965654, 8151056077338342357, 5514848177098999652,
    8406498414702549755, 3237125341903521304, 1174721180313277802, 3595259469738329003, 7951557063208650495, 5341809283151806515, 6232157404387928177, 4323287044895883823, 4585989450308619931,
    3636572219391657866, 8497990520622879862, 3235603729129631872, 1786857939601765260, 2337902791254325853, 6744064675573005386, 1054135520085352792, 1553980325163153866, 6464929068502235409,
    7699037149372841263, 3364695853546542103, 6020948357166412368, 8707717289511541674, 119239400068441823, 8090820087759541548, 2744100045521574392, 4205165152768685347, 552354983524091984,
    796329702378793810, 7716790201847774938, 5062189259565662548, 7141010084796017437, 5070497940079667232, 5592250842773211527, 4451170578152883168, 1699959615794941531, 8946264768843415328,
    8033077847655603627, 4978802833673647529, 3702881393316616471, 8757331071043066138, 2296796593290308562, 7545181195295598712, 2886150791241179079, 3944204960574678270, 589159761953641673,
    3998635885430156075, 7957991889399987938, 1933328379269487314, 5726221735120670373, 4310231727281893455, 8986345916689703499, 6636810904571189373, 5094509495208092298, 8914666078248337585,
    2490325100852992677, 3743979322068265520, 3022332034228904552, 8609288876063666862, 3541847028874391076, 2416798396033332287, 3581628932133418130, 2738236014870648761, 5599310696339969027,
    434994432259248718, 595641226104241893, 1902199648121702386, 7343242764381649514, 1785434243252169232, 8937767316230224495, 151738798952614822, 7339755303815667140, 3687818062290116231,
    5517424715101328716, 7826553690378031331, 5504332929148180003, 3220058968351204246, 1953433495575216668, 7465823263511906440, 6213671790967244469, 2599450508037648384, 5302424075112768825,
    540142109930548439, 3022174225342595979, 7977099671966352359, 1878564109258964605, 5394220992761743322, 1635159180345785596, 1831838504435720240, 81822531096579398, 8267090772571308235,
    3148401895092886690, 7932784838091810794, 6299580489029311585, 2833661357918368493, 7194326636943646715, 576793878461397121, 4650459900257994895, 5667199683036828346, 7834258079729713988,
    4804858189322771003, 2237821087118208233, 297057346858154136, 3833536831750536275, 7026087820402719836, 6706603318471706252, 8836730303651617311, 4267549835039098843, 579537394819714924,
    8246583524380149405, 3930382202121434250, 7085615831523476179, 4733484943695718862, 7547967875530484227, 1114352844986408364, 1727415480516914878, 6288211874375282729, 4629267458889608310,
    3755049143958016026, 1604975751087945226, 5613339723942201307, 1008220387022586885, 402206656686089614, 4563200716122228649, 8603517587903281810, 6181828808046687432, 8769837037179598121)

counter = -1

def init_hash(board):
    hash_val = 0
    for row in range(2, 10):
        for col in range(2, 10):
            hash_val ^= piece_hash_for_squares[board[row][col]][row][col]
    return hash_val


def rand_int_64():
    global counter
    counter += 1
    return rand_integers_64[counter]


# access hash: piece_hash_for_squares[piece_val][row][col]
piece_hash_for_squares = {piece_val: {row: {col: rand_int_64() for col in range(2, 10)} for row in range(2, 10)} for piece_val in range(-6, 7)}

side_hash = {True: rand_int_64(), False: rand_int_64()}

file_hash = {col: rand_int_64() for col in range(2, 10)}

# castling rights change because king, qRook or kRook at column 'col' moves for white or black
castling_rights_hash = {color: {king_side: rand_int_64() for king_side in (True, False)} for color in (True, False)}
